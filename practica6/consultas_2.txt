208-1 PREFIX text: <http://jena.apache.org/text#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX mydic: <http://mydic/> SELECT ?file ?scoretot WHERE { ?file rdf:type ?type .filter (contains(str(?type), "TFG")). OPTIONAL {(?file ?score1) text:query (mydic:descripcion 'informatica' )}. OPTIONAL {(?file ?score2) text:query (mydic:descripcion 'computer' )}. OPTIONAL {(?file ?score3) text:query (mydic:titulo 'informatica' )}. OPTIONAL {(?file ?score4) text:query (mydic:titulo 'computer' )}. OPTIONAL {(?file ?score5) text:query (mydic:fecha '2013' )}. OPTIONAL {(?file ?score6) text:query (mydic:fecha '2014' )}. OPTIONAL {(?file ?score7) text:query (mydic:fecha '2015' )}. OPTIONAL {(?file ?score8) text:query (mydic:fecha '2016' )}. OPTIONAL {(?file ?score9) text:query (mydic:fecha '2017' )}. OPTIONAL {(?file ?score10) text:query (mydic:fecha '2018' )}. OPTIONAL {(?file ?score11) text:query (mydic:fecha '2019' )}. OPTIONAL {(?file ?score12) text:query (mydic:fecha '2020' )}. OPTIONAL {(?file ?score13) text:query (mydic:fecha '2021' )}. OPTIONAL {(?file ?score14) text:query (mydic:fecha '2022' )}. OPTIONAL {(?file ?score15) text:query (mydic:titulo 'science' )}. OPTIONAL {(?file ?score16) text:query (mydic:descripcion 'science' )}. BIND (coalesce(?score1,0)+coalesce(?score2,0)+coalesce(?score3,0)+coalesce(?score4,0)+coalesce(?score5,0)+coalesce(?score6,0)+coalesce(?score7,0)+coalesce(?score8,0)+coalesce(?score9,0)+coalesce(?score10,0)+coalesce(?score11,0)+coalesce(?score12,0)+coalesce(?score13,0)+coalesce(?score14,0)+coalesce(?score15,0)+coalesce(?score16,0) as ?scoretot) } ORDER BY DESC (?scoretot)