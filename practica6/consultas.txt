206-4 PREFIX text: <http://jena.apache.org/text#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX mydic: <http://mydic/> prefix xsd: <http://www.w3.org/2001/XMLSchema#> SELECT ?file (SUM(xsd:double(?scoretot)) AS ?score) WHERE {SELECT ?file WHERE { {(?file ?score2) text:query (mydic:descripcion 'doctoral' )} UNION {(?file ?score1) text:query (mydic:titulo 'melatonina' )} UNION {(?file ?score1) text:query (mydic:titulo 'complex' )}. BIND (coalesce(?score1,0)+coalesce(?score2,0)+coalesce(?score3,0) as ?scoretot) }} GROUP BY ?file ORDER BY ?score
205-4 PREFIX text: <http://jena.apache.org/text#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX mydic: <http://mydic/> SELECT ?file ?scoretot (datatype(?scoretot) as ?type) WHERE { {(?file ?score2) text:query (mydic:descripcion 'doctoral' )} UNION {(?file ?score1) text:query (mydic:titulo 'melatonina' )} UNION {(?file ?score1) text:query (mydic:titulo 'complex' )}. BIND (coalesce(?score1,0)+coalesce(?score2,0)+coalesce(?score3,0) as ?scoretot) } ORDER BY DESC (?scoretot)
203-1 PREFIX text: <http://jena.apache.org/text#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX mydic: <http://mydic/> SELECT DISTINCT ?file WHERE { {(?file ?score2) text:query (mydic:descripcion 'doctoral' )} UNION {(?file ?score1) text:query (mydic:titulo 'melatonina' )} UNION {(?file ?score1) text:query (mydic:titulo 'complex' )}. BIND (coalesce(?score1,0)+coalesce(?score2,0)+coalesce(?score3,0) as ?scoretot) } ORDER BY DESC(?scoretot)
201-1 PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> SELECT DISTINCT ?file WHERE {{?file rdf:type ?type .filter contains(str(?type), "TESIS")} UNION {?file <http://mydic/fecha> ?fecha .filter(?fecha = "2008")}}